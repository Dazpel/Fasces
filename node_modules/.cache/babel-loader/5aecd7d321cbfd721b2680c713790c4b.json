{"ast":null,"code":"var _jsxFileName = \"/Users/hugoii/Desktop/ironhack/projects/Fasces/src/Components/ReceiptView/ReceiptTable.jsx\";\nimport React, { Component } from 'react';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Typography from '@material-ui/core/Typography';\nimport Progress from '../progress/Progress';\nimport Grid from '@material-ui/core/Grid';\nimport ImageModal from './receiptImageModal';\nimport { Link } from 'react-router-dom';\nimport { saveReceipt, receiptListArr, updateReceiptArr, sentinel } from '../firebase/firebase.utils';\nimport './receipt.css';\nexport default class ReceiptTable extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      imageArr: ''\n    };\n\n    this.updateArr = async () => {\n      console.log('beign called');\n\n      try {\n        let list = await receiptListArr(this.props.currentUser);\n        this.setState({\n          imageArr: list\n        });\n      } catch (error) {\n        console.log('Error adding list', error);\n      }\n    };\n  }\n\n  async componentDidMount() {\n    try {\n      let list = await receiptListArr(this.props.currentUser, this.updateArr);\n      this.setState({\n        imageArr: list\n      });\n    } catch (error) {\n      console.log('Error adding list', error);\n    }\n  }\n\n  render() {\n    const {\n      imageArr\n    } = this.state;\n    let expenses = 0;\n\n    const receipTable = list => {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"receipTable\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(Table, {\n        size: \"small\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(TableHead, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(TableRow, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(TableCell, {\n        className: \"bold\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 17\n        }\n      }, \"Image\"), /*#__PURE__*/React.createElement(TableCell, {\n        className: \"bold\",\n        align: \"right\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 17\n        }\n      }, \"Upload Date\"), /*#__PURE__*/React.createElement(TableCell, {\n        className: \"bold\",\n        align: \"right\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 17\n        }\n      }, \"Amount\"))), /*#__PURE__*/React.createElement(TableBody, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 13\n        }\n      }, list.map((el, i) => (expenses += el.amount, /*#__PURE__*/React.createElement(TableRow, {\n        key: el.id,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(TableCell, {\n        className: \"bold\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(ImageModal, {\n        url: el.url,\n        btnName: `Receipt ${i}`,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 19\n        }\n      })), /*#__PURE__*/React.createElement(TableCell, {\n        align: \"right\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 19\n        }\n      }, el.createdAt), /*#__PURE__*/React.createElement(TableCell, {\n        align: \"right\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 19\n        }\n      }, el.amount)))))), /*#__PURE__*/React.createElement(Grid, {\n        container: true,\n        justify: \"center\",\n        alignItems: \"center\",\n        className: \"receipTable-expenses\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(Typography, {\n        variant: \"subtitle1\",\n        gutterBottom: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 11\n        }\n      }, `Current expenses: ${expenses.toFixed(2)}$`)));\n    };\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 12\n      }\n    }, imageArr ? receipTable(imageArr) : /*#__PURE__*/React.createElement(Progress, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 53\n      }\n    }));\n  }\n\n}","map":{"version":3,"sources":["/Users/hugoii/Desktop/ironhack/projects/Fasces/src/Components/ReceiptView/ReceiptTable.jsx"],"names":["React","Component","Table","TableBody","TableCell","TableHead","TableRow","Typography","Progress","Grid","ImageModal","Link","saveReceipt","receiptListArr","updateReceiptArr","sentinel","ReceiptTable","state","imageArr","updateArr","console","log","list","props","currentUser","setState","error","componentDidMount","render","expenses","receipTable","map","el","i","amount","id","url","createdAt","toFixed"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Typography from '@material-ui/core/Typography';\nimport Progress from '../progress/Progress';\nimport Grid from '@material-ui/core/Grid';\nimport ImageModal from './receiptImageModal'\nimport { Link } from 'react-router-dom';\nimport {\n  saveReceipt,\n  receiptListArr,\n  updateReceiptArr,\n  sentinel,\n} from '../firebase/firebase.utils';\nimport './receipt.css';\n\nexport default class ReceiptTable extends Component {\n  state = {\n    imageArr: '',\n    \n  };\n\n  updateArr = async () => {\n    console.log('beign called');\n\n    try {\n      let list = await receiptListArr(this.props.currentUser);\n      this.setState({\n        imageArr: list,\n      });\n    } catch (error) {\n      console.log('Error adding list', error);\n    }\n  };\n\n  async componentDidMount() {\n    try {\n      let list = await receiptListArr(this.props.currentUser, this.updateArr);\n      this.setState({\n        imageArr: list,\n      });\n    } catch (error) {\n      console.log('Error adding list', error);\n    }\n  }\n\n  render() {\n    const { imageArr } = this.state;\n    let expenses = 0\n\n    const receipTable = (list) => {\n      return (\n        <div className=\"receipTable\">\n          <Table size=\"small\">\n            <TableHead>\n              <TableRow>\n                <TableCell className=\"bold\">Image</TableCell>\n                <TableCell className=\"bold\" align=\"right\">\n                  Upload Date\n                </TableCell>\n                <TableCell className=\"bold\" align=\"right\">\n                  Amount\n                </TableCell>\n              </TableRow>\n            </TableHead>\n            <TableBody>\n              {list.map((el, i) => (\n                \n                (expenses+=el.amount),\n                <TableRow key={el.id}>\n                  <TableCell className=\"bold\">\n                  <ImageModal url={el.url} btnName={`Receipt ${i}`} />\n                  </TableCell>\n                  <TableCell align=\"right\">{el.createdAt}</TableCell>\n                  <TableCell align=\"right\">{el.amount}</TableCell>\n                </TableRow>\n              ))}\n            </TableBody>\n          </Table>\n          <Grid container justify=\"center\" alignItems=\"center\" className='receipTable-expenses'>\n          <Typography variant=\"subtitle1\" gutterBottom>\n       {`Current expenses: ${expenses.toFixed(2)}$`}\n      </Typography>\n          </Grid>\n          \n        </div>\n      );\n    };\n\n    return <div>{imageArr ? receipTable(imageArr) : <Progress />}</div>;\n  }\n}\n"]},"metadata":{},"sourceType":"module"}