{"ast":null,"code":"import React, { Component } from 'react';\nimport { tripList, updateExpenses } from '../firebase/firebase.utils';\nexport const calculateTotal = async (x, tripId, currentUser) => {\n  //add total to users expenses\n  //removal the total / # of users from everyone in the group, rounded by 2\n  //the person paying spends the extra cent in the case of awkward division\n  let trips = await tripList();\n  let tripIndex = 0;\n  trips.map((ele, i) => {\n    if (ele.id === tripId) {\n      tripIndex = i;\n    }\n  });\n  console.log(trips[tripIndex].data());\n  let users = trips[tripIndex].data().users;\n  let numOfUsers = users.length;\n  let value = Number((x / numOfUsers).toFixed(2)) * -1;\n  console.log(users);\n  users.map(user => {\n    //currentUser.id\n    if ((currentUser.id ? currentUser.id : 'rFEdDIXvFjSpjvIMpAm8GhHxJl72') === user) {\n      updateExpenses(user, value - value * numOfUsers);\n    } else updateExpenses(user, value);\n  });\n}; // class receiptAlgorithm extends Component {\n//     render() {\n//         return (\n//             <div>\n//                 Totals updated\n//             </div>\n//         );\n//     }\n// }","map":{"version":3,"sources":["/home/alexander/Desktop/Ironhack/Paxanimi/src/Components/Algorithm/receiptAlgorithm.js"],"names":["React","Component","tripList","updateExpenses","calculateTotal","x","tripId","currentUser","trips","tripIndex","map","ele","i","id","console","log","data","users","numOfUsers","length","value","Number","toFixed","user"],"mappings":"AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAAQC,QAAR,EAAkBC,cAAlB,QAAuC,4BAAvC;AAEA,OAAO,MAAMC,cAAc,GAAG,OAAOC,CAAP,EAAUC,MAAV,EAAkBC,WAAlB,KAAkC;AAC5D;AACA;AACA;AACA,MAAIC,KAAK,GAAG,MAAMN,QAAQ,EAA1B;AACA,MAAIO,SAAS,GAAG,CAAhB;AACAD,EAAAA,KAAK,CAACE,GAAN,CAAU,CAACC,GAAD,EAAMC,CAAN,KAAY;AAClB,QAAID,GAAG,CAACE,EAAJ,KAAWP,MAAf,EAAsB;AAACG,MAAAA,SAAS,GAAIG,CAAb;AAAe;AACzC,GAFD;AAGAE,EAAAA,OAAO,CAACC,GAAR,CAAYP,KAAK,CAACC,SAAD,CAAL,CAAiBO,IAAjB,EAAZ;AACA,MAAIC,KAAK,GAAGT,KAAK,CAACC,SAAD,CAAL,CAAiBO,IAAjB,GAAwBC,KAApC;AACA,MAAIC,UAAU,GAAGD,KAAK,CAACE,MAAvB;AACA,MAAIC,KAAK,GAAGC,MAAM,CAAC,CAAChB,CAAC,GAACa,UAAH,EAAeI,OAAf,CAAuB,CAAvB,CAAD,CAAN,GAAkC,CAAC,CAA/C;AACAR,EAAAA,OAAO,CAACC,GAAR,CAAYE,KAAZ;AACAA,EAAAA,KAAK,CAACP,GAAN,CAAUa,IAAI,IAAI;AACd;AACA,QAAG,CAAChB,WAAW,CAACM,EAAZ,GAAiBN,WAAW,CAACM,EAA7B,GAAkC,8BAAnC,MAAuEU,IAA1E,EACA;AACIpB,MAAAA,cAAc,CAACoB,IAAD,EAAOH,KAAK,GAAGA,KAAK,GAACF,UAArB,CAAd;AACH,KAHD,MAKIf,cAAc,CAACoB,IAAD,EAAOH,KAAP,CAAd;AAEP,GATD;AAUH,CAxBM,C,CA0BP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sourcesContent":["import React, { Component } from 'react';\nimport {tripList, updateExpenses} from '../firebase/firebase.utils'\n\nexport const calculateTotal = async (x, tripId, currentUser) => {\n    //add total to users expenses\n    //removal the total / # of users from everyone in the group, rounded by 2\n    //the person paying spends the extra cent in the case of awkward division\n    let trips = await tripList()\n    let tripIndex = 0\n    trips.map((ele, i) => {\n        if (ele.id === tripId){tripIndex =  i}\n    })\n    console.log(trips[tripIndex].data())\n    let users = trips[tripIndex].data().users\n    let numOfUsers = users.length\n    let value = Number((x/numOfUsers).toFixed(2))*-1\n    console.log(users)\n    users.map(user => {\n        //currentUser.id\n        if((currentUser.id ? currentUser.id : 'rFEdDIXvFjSpjvIMpAm8GhHxJl72') === user)\n        {\n            updateExpenses(user, value - value*numOfUsers)\n        }\n        else \n            updateExpenses(user, value)\n        \n    })\n}\n\n// class receiptAlgorithm extends Component {\n//     render() {\n//         return (\n//             <div>\n//                 Totals updated\n//             </div>\n//         );\n//     }\n// }\n\n\n\n\n"]},"metadata":{},"sourceType":"module"}